apiVersion: batch/v1
kind: CronJob
metadata:
  name: env-secrets-cronjob
  namespace: default
spec:
  schedule: "0 */6 * * *"  # Every 6 hours
  jobTemplate:
    spec:
      template:
        metadata:
          name: env-secrets-job
        spec:
          containers:
            - name: app-container
              image: busybox:1.35
              command: ["/bin/sh", "-c", "echo 'Running with secrets'; sleep 30"]
              env:
                - name: SLACK_TOKEN
                  value: "xoxb-1234567890-1234567890123-abcdefghijklmnopqrstuvwx"
                - name: AWS_ACCESS_KEY_ID
                  value: "AKIAIOSFODNN7EXAMPLE"
                - name: AWS_SECRET_ACCESS_KEY
                  value: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
                - name: GITHUB_TOKEN
                  value: "ghp_1234567890abcdefghijklmnopqrstuvwxyz12"
                - name: RSA_PRIVATE_KEY
                  value: "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEA1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMN\nOPQRSTUVWXYZ1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQR\n-----END RSA PRIVATE KEY-----"
                - name: SSH_PRIVATE_KEY
                  value: "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAFwAAAAdzc2gtcn\nNhAAAAAwEAAQAAAQEA1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMN\n-----END OPENSSH PRIVATE KEY-----"
              resources:
                requests:
                  memory: "16Mi"
                  cpu: "25m"
          restartPolicy: OnFailure
